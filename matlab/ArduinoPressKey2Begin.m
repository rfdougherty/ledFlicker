function ArduinoPressKey2Begin(params,onlyWaitKb, pressString)% pressKey2Begin(display, [onlyWaitKb=1], [speak=0])%%   Displays 'please press any key to begin' on the SCREEN%   just below the center of the screen and waits for the %   user to press a key.%%   if onlyWaitKb flag is true (default), we'll try to only wait for%   internal keyboard keys (useful to avoid catching button presses from an%   external device).%% SEE ALSO clickMouse2Begin dispStringInCenter% 1/20/97 gmb wrote it.% 07/2005 SOD modified% 05/2008 RAS added 'speak' option. Defaults to 0, so it stops freaking me% out. :)  % 07/2008 RAS there were 2 versions in the repository. I chose to keep the% one in screenUtils, removed the one in misc.if(~exist('onlyWaitKb','var') | isempty(onlyWaitKb))    onlyWaitKb = true;endif(~exist('pressString','var') | isempty(pressString))	pressString = 'please press any key to begin.';enddisp(pressString);% KbWait and KbCheck are device dependentif onlyWaitKb && isfield(params,'devices'),    % wait for input of experimentor only    while ~KbCheck(params.devices.keyInputInternal),        WaitSecs(0.01); % give time back to OS - important    end;else    % just wait for any press    % KbWait is unreliable probably would need a device input as well    % but this is not an option (Psychtoolbox 1.0.5)%     pause;    while ~KbCheck        WaitSecs(0.01);     endendreturn;